{
    "swagger": "2.0",
    "info": {
      "version": "1.0.0",
      "title": "My brand API",
      "description": "My brand, A personal blog RESTful API documentation",
      "contact": {
        "name": "Lambert Bayiringire",
        "email": "lambertbayiringire@gmail.com"
      }
    },
    "host": "my-brand-production-05a1.up.railway.app",
    "basePath": "/api/v1",
    "schemes": [
      "https",
      "http"
    ],
    "paths": {
      "/login": {
        "post": {
          "tags": [
            "Auth"
          ],
          "summary": "Login ",
          "parameters": [
            {
              "name": "User authentication",
              "in": "body",
              "description": "User credentials",
              "required": true,
              "schema": {
                "example": {
                  "email": "umbereye1@email.com",
                  "password": "password"
                }
              }
            }
          ],
          "consumes": [
            "application/json"
          ],
          "responses": {
            "200": {
              "description": "Login successfully"
            },
            "404": {
              "description": "Incorrect credentials"
            },
            "500": {
              "description": "Server error"
            }
          }
        }
      },
      
      "/blogs": {
        "post": {
          "security": [
            {
              "Bearer": []
            }
          ],
          "tags": [
            "Blogs"
          ],
          "summary": "Create a new Blogs",
          "consumes": [
            "multipart/form-data"
          ],
          "produces": [
            "application/json"
          ],
          "parameters": [
            {
              "in": "formData",
              "name": "blogTitle",
              "description": "blog request title",
              "type": "string"
            },
            {
              "in": "formData",
              "name": "blogContent",
              "description": "blog request content",
              "type": "string"
            },
            {
                "in": "formData",
                "name": "author",
                "description": "author",
                "type": "string"
              },
            {
              "name": "image",
              "in": "formData",
              "type": "file"
            }
          ],
          "responses": {
            "201": {
              "description": "Blog created successfully!"
            },
            "422": {
              "description": "Validation fails"
            }
          }
        },
        "get": {
          "summary": "Git list of Blogs.",
          "description": "Get all created Blogs.",
          "tags": [
            "Blogs"
          ],
          "produces": [
            "application/json"
          ],
          "responses": {
            "200": {
              "description": "OK"
            },
            "500": {
              "description": "Server error"
            }
          }
        }
      },
   
      "/blogs/{blogID}": {
        "get": {
          "tags": [
            "Blogs"
          ],
          "summary": "Find blog by ID",
          "description": "Get single blog",
          "produces": [
            "application/json"
          ],
          "parameters": [
            {
              "name": "blogID",
              "in": "path",
              "description": "ID of blog to return",
              "required": true,
              "type": "string"
            }
          ],
          "responses": {
            "200": {
              "description": "successful operation",
              "schema": {
                "$ref": "#/definitions/Blogs"
              }
            },
            "404": {
              "description": "Blog not found"
            }
          }
        },
        "put": {
          "security": [
            {
              "Bearer": []
            }
          ],
          "tags": [
            "Blogs"
          ],
          "summary": "Updates an blog",
          "description": "Update the blog",
          "consumes": [
            "multipart/form-data"
          ],
          "produces": [
            "application/json"
          ],
          "parameters": [
            {
              "name": "blogID",
              "in": "path",
              "description": "ID of Blog that will be updated",
              "required": true,
              "type": "string"
            },
            {
              "name": "blogTitle",
              "in": "formData",
              "description": "blogTitle",
              "required": true,
              "type": "string"
            },
            {
              "name": "blogContent",
              "in": "formData",
              "description": " blogContent",
              "required": true,
              "type": "string"
            },
            {
                "in": "formData",
                "name": "author",
                "description": "author",
                "type": "string"
              },
            {
              "name": "image",
              "in": "formData",
              "description": "Updated file of the blog",
              "required": false,
              "type": "file"
            }
          ],
          "responses": {
            "422": {
              "description": "Invalid input"
            },
            "401": {
              "description": "Unauthorized"
            }
          }
        },
        "delete": {
          "security": [
            {
              "Bearer": []
            }
          ],
          "tags": [
            "Blogs"
          ],
          "summary": "Deletes an Blog",
          "description": "Delete a single Blog",
          "produces": [
            "application/json"
          ],
          "parameters": [
            {
              "name": "blogID",
              "in": "path",
              "description": "Blog id to delete",
              "required": true,
              "type": "string"
            }
          ],
          "responses": {
            "404": {
              "description": "Blog not found"
            }
          }
        }
      },
      "/blogs/{blogId}/comments": {
        "post": {
          "tags": [
            "Blogs"
          ],
          "summary": "Create a new comment",
          "consumes": [
            "application/json"
          ],
          "produces": [
            "application/json"
          ],
          "parameters": [
            {
              "name": "blogId",
              "in": "path",
              "description": "ID of blog to comment",
              "required": true,
              "type": "string"
            },
            {
              "in": "body",
              "name": "Comment",
              "description": "Comment Body",
              "schema": {
                "$ref": "#/definitions/comment"
              }
            }
          ],
          "responses": {
            "201": {
              "description": "Comment added successfully!"
            },
            "422": {
              "description": "Validation fails"
            }
          }
        },
        "get": {
          "tags": [
            "Blogs"
          ],
          "summary": "Retrieve comments of blog",
          "description": "Returns all comments for a blog ",
          "produces": [
            "application/json"
          ],
          "parameters": [
            {
              "name": "blogId",
              "in": "path",
              "description": "ID of blog to return comments",
              "required": true,
              "type": "string"
            }
          ],
          "responses": {
            "200": {
              "description": "successful operation",
              "schema": {
                "$ref": "#/definitions/comment"
              }
            },
            "404": {
              "description": "Blog not found"
            }
          }
        }
      },
      "/blogs/{blogId}/likes": {
        "post": {
          "tags": [
            "Blogs"
          ],
          "summary": "like a blog",
          "consumes": [
            "application/json"
          ],
          "produces": [
            "application/json"
          ],
          "parameters": [
            {
              "name": "blogId",
              "in": "path",
              "description": "ID of blog to like",
              "required": true,
              "type": "string"
            }
          ],
          "responses": {
            "201": {
              "description": "Like added successfully!"
            },
            "422": {
              "description": "cant find blog Id"
            }
          }
        }
        
      },
      "/contact": {
        "post": {
          "tags": [
            "Queries"
          ],
          "summary": "Create a new query",
          "consumes": [
            "application/json"
          ],
          "produces": [
            "application/json"
          ],
          "parameters": [
            {
              "in": "body",
              "name": "Query",
              "description": "Query Body",
              "schema": {
                "$ref": "#/definitions/query"
              }
            }
          ],
          "responses": {
            "201": {
              "description": "Article created successfully!"
            },
            "422": {
              "description": "Validation fails"
            }
          }
        },
        "get": {
          "security": [
            {
              "Bearer": []
            }
          ],
          "summary": "Returns a list of queries.",
          "description": "This will list all created queries.",
          "tags": [
            "Queries"
          ],
          "produces": [
            "application/json"
          ],
          "responses": {
            "200": {
              "description": "OK"
            },
            "500": {
              "description": "Server error"
            }
          }
        }
      }
    },
  
    "securityDefinitions": {
      "Bearer": {
        "type": "apiKey",
        "name": "Authorization",
        "in": "header"
      }
    },
    "definitions": {
      "Blogs": {
        "type": "object",
        "required": [
          "blogTitle",
          "blogContent",
          "picture",
          "likes",
          "likedBy"
        ],
        "properties": {
          "_id": {
            "type": "string",
            "example": "1whw2i2si277e37"
          },
          "blogTitle": {
            "type": "string",
            "example": "This is an article"
          },
          "blogContent": {
            "type": "string",
            "example": "These are some contents"
          },
          "blogImage": {
            "type": "string"
          },
          "likes": {
            "type": "number"
          },
          "likedBy": {
            "type": "string"
          }
        }
      },
      "query": {
        "type": "object",
        "required": [
          "name",
          "email",
          "message"
        ],
        "properties": {
          "name": {
            "type": "string",
            "example": "Ally leandre"
          },
          "email": {
            "type": "string",
            "example": "leandre@gmail.com"
          },
          "message": {
            "type": "string",
            "example": "These are some texts"
          }
        }
      },
      "comment": {
        "type": "object",
        "required": [
          "name",
          "content"
        ],
        "properties": {
          "name": {
            "type": "string",
            "example": "Ally leandre"
          },
          "content": {
            "type": "string",
            "example": "This is some comment"
          }
        }
      }
    }
  }
  